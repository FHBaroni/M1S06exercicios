<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>M1S06Ex03</title>
</head>

<body>
  <h1>M1S06Ex03</h1>
  <p>
    - Crie uma página html para buscar o endereço através do cep contendo:<br>
-- 1 input para receber o CEP<br>
-- 1 button para buscar o endereço<br>
- Crie uma função assíncrona que deve realizar o fetch do endereço do cep<br>
-- Utilize este endpoint: https://viacep.com.br/ws/01001000/json/ <br>
-- Substitua o 01001000 pelo cep digitado no input<br>
-- Faça a chamada utilizando Fetch e aguarde o resultado<br>
-- Exiba o resultado no console.log<br>
- Adicione no button o evento de click para chamar a função criada.
  </p>
  <input type="number" id="cep">
  <input type="button" id="botao" value="Busca CEP">
<script>
  const pesquisaCep = () => {
  const cep = document.getElementById("cep").value;
  
// Cria função assíncrona para realizar o fetch do endereço do cep
const fetchApi = async () =>{

// Efetua a chamada a api e aguarda o retorno
const response = await fetch('https://viacep.com.br/ws/88475000/json/');

// Efetua a tratativa caso o retorno seja um erro
if (!response.ok) {
const err = await response.json();
return console.log('ocorreu o seguinte erro:', err.message);
}

// Efetua a tratativa caso o retorno seja sucesso
const data = await response.json();
console.log(data);
};
fetchApi();
}
// document.getElementById ("cep")

document.getElementById("botao")
        .onclick = function() {pesquisaCep()};
  </script>
</body>
</html>
